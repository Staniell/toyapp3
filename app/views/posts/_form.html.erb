<%= javascript_include_tag 'posts' %>


<%= form_for @post do |f| %>
    <div class="flex flex-col bg-slate-50 border-2 rounded-lg pb-6 pt-3 lg:w-1/2 text-center m-auto mt-10">
        <%= f.label :title, class: "mt-3 text-2xl font-bold" %>
        <%= f.text_field :title, class: "mt-3 p-2 w-11/12 bg-white border-2 shadow-md lg:w-1/2 m-auto" %> 
        <%= f.label :Content, class: "mt-3 text-2xl font-bold" %>
        <%= f.text_area :body, class: "mt-3 p-2 w-11/12 bg-white border-2 shadow-md lg:w-1/2 m-auto" %>
        <span class="mt-3 font-bold">Tags:</span>
        <div class="flex items-center justify-center">
            <%= f.collection_check_boxes :tag_ids, Tag.all, :id, :name do |t| %>
                <%= t.label do %>
                    <div class="p-3">
                        <%= t.check_box %>
                        <%= t.text %>
                    </div>
                <% end %>
            <% end %>
        </div>
        <%= f.hidden_field :user_id, value: current_user.id %>
<%= f.fields_for :images do |image| %>

  <div class="form-group">
    <%= image.file_field :image, multiple: true %>
    <div id="image-preview">
      <% if f.object.images.attached? %>
        <% f.object.images.each do |img| %>
          <div class="image-preview-container">
            <%= image_tag img.variant(resize_to_limit: [400, 400]), class: 'image-preview' %>
            <div class="image-preview-controls">
              <%= link_to 'Edit', '#', class: 'edit-image' %>
              <%= link_to 'Delete', '#', class: 'delete-image' %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
    <span class="file-count text-gray-500 text-sm">No files selected</span>
  </div>
<% end %>
        <%= f.submit "Save", class:"mt-6 hover:shadow-md hover:cursor-pointer hover:text-blue-500 shadow-sm border-2 lg:w-1/4 m-auto p-2 font-bold rounded-md bg-white" %>
    </div>
<% end %>